$(document).ready(function(){$("#frm-payment").length&&($("#card_number").inputmask({mask:"9999 9999 9999 9999"}),$("#card_expiration").inputmask({mask:"99/99"}),$("#btnSavePayment").on("click",function(){$("#frm-payment").validate({highlight:function(a){$(a).addClass("is-invalid")},unhighlight:function(a){$(a).removeClass("is-invalid")},errorClass:"is-invalid",rules:{card_name:{required:!0,minlength:2},card_number:{required:!0},card_expiration:{required:!0},card_cvv:{required:!0,minlength:3},plan_id:{required:!0}},messages:{card_name:"",card_number:"",card_expiration:"",card_cvv:"",plan_id:""},errorPlacement:function(a,e){},submitHandler:function(a){$("#btnSavePayment").attr("disabled",!0),Swal.showLoading();var e=$("#frm-payment").serialize(),n=$("#frm-payment").attr("action");return $.ajax({type:"POST",url:n,data:e,dataType:"json",contentType:"application/x-www-form-urlencoded",success:function(a){1==a.ret?($("#btnSavePayment").attr("disabled",!1),Swal.enableLoading()):($("#btnSavePayment").attr("disabled",!1),Swal.enableLoading(),Swal.fire("Atenção",a.msg,"error"))}}),!1}})}))});